(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16b780cc"],{"39b7":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{ref:"RvCarousel",staticClass:"no-touch",class:["rv-carousel--"+t.sizing],attrs:{id:"rvCarousel","aria-label":t.arialabel,"aria-roledescription":"carousel"},on:{mouseover:function(e){return t.handleRotation(!1)},mouseleave:function(e){return t.handleRotation(!!t.rotating)}}},[a("div",{class:["rv-carousel__inner--"+t.sizing]},[t.allowRotation?a("button",{staticClass:"rv-carousel__btn rv-carousel__btn--pause bg-primary hover:bg-accent-9 focus:bg-accent-9 focus-b",attrs:{"aria-label":t.rotating?t.stop:t.start,"aria-controls":"rvCarousel-items"},on:{click:function(e){t.rotate=!t.rotate,t.rotating=!t.rotating},focus:function(e){return t.handleRotation(!1)},blur:function(e){return t.handleRotation(!!t.rotating)}}},[a("IconBase",{staticClass:"rotate-180",attrs:{icon:t.rotating?"PauseIcon":"BackIcon",color:"white",size:"1.5rem"}})],1):t._e(),t.buttons?a("ul",[a("li",[a("button",{staticClass:"rv-carousel__btn rv-carousel__btn--previous pr-1 py-2 focus-b",attrs:{"aria-label":"Previous Slide","aria-controls":"rvCarousel-items"},on:{click:function(e){return t.handlePrevNext("prev")},focus:function(e){return t.handleRotation(!1)},blur:function(e){return t.handleRotation(!!t.rotating)}}},[a("svg",{class:"h-full w-full",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"32",viewBox:"0 0 17 32","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{fill:"#fff",d:"M16.614 31.748l.509-.509a.86.86 0 000-1.22L3.1 16.004 17.123 1.982a.86.86 0 000-1.22l-.509-.509a.86.86 0 00-1.22 0L.252 15.387a.86.86 0 000 1.22l15.142 15.134a.853.853 0 001.219.007z"}})])])]),a("li",[a("button",{staticClass:"rv-carousel__btn rv-carousel__btn--next pl-1 py-2 focus-b",attrs:{"aria-label":"Next Slide","aria-controls":"rvCarousel-items"},on:{click:function(e){return t.handlePrevNext("next")},focus:function(e){return t.handleRotation(!1)},blur:function(e){return t.handleRotation(!!t.rotating)}}},[a("svg",{class:"h-full w-full rotate-180",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"32",viewBox:"0 0 17 32","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{fill:"#fff",d:"M16.614 31.748l.509-.509a.86.86 0 000-1.22L3.1 16.004 17.123 1.982a.86.86 0 000-1.22l-.509-.509a.86.86 0 00-1.22 0L.252 15.387a.86.86 0 000 1.22l15.142 15.134a.853.853 0 001.219.007z"}})])])])]):t._e(),t.buttons?t._e():a("ul",{staticClass:"rv-carousel__btn-list"},t._l(t.gallery,(function(e,r){return a("li",{key:e.id+"-"+e.id},[a("button",{staticClass:"p-3 rounded-full focus-a group",attrs:{"aria-label":e.title},on:{click:function(e){t.currentIndex=r,t.handleLazyLoad()}}},[a("span",{staticClass:"block h-2 w-2 rounded-full border border-white group-hover:bg-secondary group-focus:bg-secondary",class:[t.currentIndex===r?"bg-primary":"bg-tertiary"]})])])})),0),a("div",{ref:"RvCarouselItems",staticClass:"rv-carousel__items",attrs:{id:"rvCarousel-items","aria-live":t.rotate?"off":"polite"}},[a("TransitionGroup",{attrs:{name:"rv-carousel",mode:"in-out"}},t._l(t.gallery,(function(e,r){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex===r,expression:"currentIndex === i"}],key:""+e.id,staticClass:"rv-carousel__item",attrs:{role:"group","aria-roledescription":"slide"}},[a("img",{class:["rv-carousel__image--"+t.sizing],attrs:{src:t.lazyLoad.includes(r)?e.sizes.large:"",alt:"Gallery item "+(r+1)+" of "+t.gallery.length+", "+e.alt}}),t.titles?a("div",{staticClass:"rv-carousel__info text-primary"},[a("h3",{staticClass:"rv-carousel__title md:text-lg font-bold"},[a("span",{staticClass:"rv-carousel__count flex-c bg-grey-1 lg:bg-white h-10 w-10 md:h-16 md:w-16",attrs:{"aria-hidden":"true"}},[t._v(" "+t._s(t.currentIndex+1)+"/"+t._s(t.gallery.length)+" ")]),a("span",{staticClass:"flex-a md:min-w-64 bg-grey-1 lg:bg-white px-6 h-10 md:h-16"},[t._v(" "+t._s(e.title)+" ")])])]):t._e()])})),0)],1)])])},s=[],n=(a("2532"),a("0de6")),o={name:"RvCarousel",components:{IconBase:n["a"]},props:{arialabel:{type:String,default:"Gallery"},post:{type:Object,default:()=>{}},titles:{type:Boolean,default:!0},buttons:{type:Boolean,default:!0},sizing:{type:String,default:"scale"},allowRotation:{type:Boolean,default:!1}},data:()=>({currentIndex:0,rotate:!1,rotating:!1,interval:null,stop:"Stop automatic slide show",start:"Start automatic slideshow",touchstartX:0,touchendX:0,isTouch:!1,lazyLoad:[0]}),computed:{swipeZone(){return this.$refs.RvCarouselItems},gallery(){return this.post.gallery}},watch:{rotate:{immediate:!0,handler(t){t?this.interval=setInterval(()=>{this.currentIndex=this.currentIndex+1<this.gallery.length?this.currentIndex+1:0,this.handleLazyLoad()},3e3):clearInterval(this.interval)}}},mounted(){this.addListeners(),this.allowRotation&&(this.rotate=!0,this.rotating=!0)},beforeDestroy(){window.removeEventListener("keyup",this.handleArrowKeys),window.removeEventListener("touchstart",this.handleTouch)},methods:{handlePrevNext(t){const e=this.gallery.length,a=this.currentIndex;switch(this.isTouch&&(this.rotate=!1,this.rotating=!1),t){case"next":this.currentIndex=(a+1)%e;break;case"prev":this.currentIndex=0===a&&e-1||a-1;break;default:this.currentIndex=a}this.handleLazyLoad()},handleArrowKeys(){switch(event.keyCode){case 39:this.handlePrevNext("next");break;case 37:this.handlePrevNext("prev");break;default:}},handleRotation(t){this.isTouch||(this.rotate=t)},addListeners(){window.addEventListener("keyup",this.handleArrowKeys),window.addEventListener("touchstart",this.handleTouch),this.swipeZone.addEventListener("touchstart",t=>{this.touchstartX=t.changedTouches[0].screenX},!1),this.swipeZone.addEventListener("touchend",t=>{this.touchendX=t.changedTouches[0].screenX,this.handleSwipe()},!1)},handleTouch(){window.removeEventListener("touchstart",this.handleTouch),this.$refs.RvCarousel.classList.remove("no-touch"),this.isTouch=!0},handleSwipe(){this.isTouch&&(this.rotate=!1,this.rotating=!1),this.touchendX<this.touchstartX&&this.handlePrevNext("prev"),this.touchendX>this.touchstartX&&this.handlePrevNext("next")},handleLazyLoad(){this.lazyLoad.includes(this.currentIndex)||this.lazyLoad.push(this.currentIndex)}}},i=o,l=(a("7d8a"),a("2877")),u=Object(l["a"])(i,r,s,!1,null,null,null);e["default"]=u.exports},"7d8a":function(t,e,a){"use strict";var r=a("df77"),s=a.n(r);s.a},df77:function(t,e,a){}}]);
//# sourceMappingURL=chunk-16b780cc.c501adce.js.map