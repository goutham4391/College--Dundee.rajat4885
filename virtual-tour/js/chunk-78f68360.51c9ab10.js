(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78f68360"],{5357:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("RouterLink",{staticClass:"btn-back inline-flex items-center focus-a",attrs:{to:e.back,"aria-label":e.aria,"data-gtm-back-button":""}},[a("IconBase",{class:[e.margin],attrs:{icon:e.icon,color:e.iconcolor,size:e.iconsize,rotate:e.rotate}}),e.text?a("span",{class:"text-"+e.textcolor+" text-"+e.textsize},[e._v(" "+e._s(e.text)+" ")]):e._e()],1)},n=[],s=a("5530"),r=a("2f62"),o=a("0de6"),l={name:"BtnBack",components:{IconBase:o["a"]},props:{icon:{type:String,default:""},iconsize:{type:String,default:"1.5rem"},iconcolor:{type:String,default:"white"},text:{type:String,default:""},textsize:{type:String,default:"base"},textcolor:{type:String,default:"body"},aria:{type:String,default:"Back"},rotate:{type:String,default:"rotate-180"},margin:{type:String,default:""}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["c"])(["touch","mobile"])),Object(r["b"])(["post"])),{},{back(){var e;return"home"===this.$route.meta.back&&"subject"===(null===(e=this.post)||void 0===e?void 0:e.type)?{name:"campus-category",params:{category_id:"subjects"}}:{name:this.$route.meta.back}}})},c=l,d=a("2877"),u=Object(d["a"])(c,i,n,!1,null,null,null);t["a"]=u.exports},"5ea5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pl-12 md:pl-16 overflow-y-auto bg-grey-1 transition scrollbar",class:{"sidebar-closed":!e.sidebarOpen}},[a("div",{staticClass:"flex-a justify-between p-x h-10 md:h-12"},[e.isGuided?e._e():a("nav",{staticClass:"leading-none",attrs:{"aria-label":"Breadcrumb"}},[a("ol",[a("li",{staticClass:"inline"},[a("RouterLink",{staticClass:"focus-a",attrs:{to:{name:"home"}},domProps:{innerHTML:e._s("Home / ")}})],1),a("li",{staticClass:"inline"},[a("RouterLink",{staticClass:"focus-a",attrs:{to:{name:"campus-category"}},domProps:{innerHTML:e._s(e.category.title)}})],1)])]),e.isGuided?a("nav",{attrs:{"aria-label":"Breadcrumb"}},[a("ol",[a("li",{staticClass:"inline"},[a("RouterLink",{staticClass:"focus-a",attrs:{to:{name:"home"}},domProps:{innerHTML:e._s("Home / ")}})],1),a("li",{staticClass:"inline"},[a("RouterLink",{staticClass:"focus-a",attrs:{to:{name:"guided-tour"}},domProps:{innerHTML:e._s("Guided tour")}})],1)])]):e._e(),a("Button",{staticClass:"h-6",attrs:{icon:"ChevronIcon",type:"button",iconsize:"1.2rem",iconcolor:"primary",aria:e.sidebarOpen?"Hide sidebar":"Show sidebar","aria-expanded":e.sidebarOpen||!1,"aria-controls":"sidebar-content",iconrotation:e.sidebarOpen?"rotate-270":"rotate-90"},on:{buttonClick:function(t){e.sidebarOpen=!e.sidebarOpen}}})],1),a("Transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.sidebarOpen,expression:"sidebarOpen"}]},[e.isGuided?e._e():a("h1",{staticClass:"flex-a p-x pt-3 pb-5 text-2xl font-medium b-b focus-b",attrs:{id:"focus-target"},domProps:{innerHTML:e._s(e.location.title)}}),e.isGuided?a("div",[a("div",{staticClass:"h-40 bg-full bg-accent-1",style:"background-image: url("+e.guidedTourImage.src+")",attrs:{role:"img",alt:e.guidedTourImage.alt}}),a("ul",{staticClass:"flex-a h-12 p-x"},[a("li",[a("Button",{staticClass:"h-6 mr-8",attrs:{path:e.pager.prev,icon:"ChevronIcon",iconsize:"1.2rem",iconcolor:e.pager.isFirst?"grey-2":"primary",text:"Prev 360",tabindex:e.pager.isFirst?-1:0,textcolor:e.pager.isFirst?"grey-2":"primary",iconleft:!0,aria:"Previous panorama",iconrotation:""}})],1),a("li",[a("Button",{staticClass:"h-6",attrs:{path:e.pager.next,icon:"ChevronIcon",iconsize:"1.2rem",iconcolor:e.pager.isLast?"grey-2":"primary",text:"Next 360",tabindex:e.pager.isLast?-1:0,textcolor:e.pager.isLast?"grey-2":"primary",iconright:!0,aria:"Next panorama",iconrotation:"rotate-180"}})],1)])]):e._e(),a("section",{staticClass:"transition",class:{hidden:!e.sidebarOpen},attrs:{id:"sidebar-content","aria-label":""+e.htmlDecode(e.location.title),"aria-hidden":!e.sidebarOpen}},[e.isGuided?a("SidebarItem",{attrs:{post:e.post,expanded:{open:!0},category:e.category,"is-guided":e.isGuided},on:{handleFocus:e.handleFocus,handleBlur:e.handleBlur,handleEnter:e.handleEnter,handleEscape:e.handleEscape,handleClick:e.handleClick}}):a("nav",{attrs:{"aria-label":"Panoramas and content spots"}},[a("ul",e._l(e.location.children,(function(t,i){return a("li",{key:t.slug},[a("SidebarItem",{attrs:{post:t,expanded:{open:e.openTab===i,index:i,openIndex:e.openTab},category:e.category},on:{handleFocus:e.handleFocus,handleBlur:e.handleBlur,handleEnter:e.handleEnter,handleEscape:e.handleEscape,handleClick:e.handleClick}})],1)})),0)])],1),e.isGuided?e._e():a("BtnBack",{staticClass:"p-x mt-12",attrs:{iconsize:"1.2rem",text:"Back to map",textcolor:"primary",iconcolor:"primary",icon:"ArrowIcon",rotate:"rotate-180",margin:"mr-2"}})],1)])],1)},n=[],s=a("5530"),r=a("2f62"),o=a("56d7"),l=a("63b6"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("RouterLink",{staticClass:"relative block flex-a p-x h-12 font-medium focus-b transition",class:[e.expanded.open?"text-primary text-lg":"text-body b-b hover:bg-highlight-1",{"b-b":!e.post.children.length&&!e.post.description}],attrs:{to:e.post.slug,"aria-expanded":e.expanded.open,"aria-controls":e.post.slug}},[a("span",{staticClass:"flex-a h-full w-full"},[e._v(" "+e._s(e.htmlDecode(e.post.title))+" ")])]),a("Expand",{directives:[{name:"show",rawName:"v-show",value:e.expanded.open,expression:"expanded.open"}],attrs:{easing:"ease-in"}},[a("div",{staticClass:"bg-white",attrs:{id:e.post.slug,"aria-label":e.htmlDecode(e.post.title)}},[e.post.description?a("p",{staticClass:"p-x pb-6 pt-1 mb-0 bg-grey-1",domProps:{innerHTML:e._s(e.post.description)}}):e._e(),a("ul",e._l(e.post.children,(function(t){return a("li",{key:t.id,staticClass:"p-x border-b border-grey-1"},[a("button",{staticClass:"flex-a h-12 w-full text-primary focus-b",attrs:{role:"link",tabindex:e.expanded.open?0:-1,"data-gtm-sidebar-item":"360: "+e.post.title+", Title: "+t.title+", Type: "+t.type},on:{focus:function(a){return e.$emit("handleFocus",t.slug)},blur:function(a){return e.$emit("handleBlur",t.slug)},click:function(a){return e.$emit("handleClick",t.slug)},keyup:[function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.$emit("handleEnter",t.slug)},function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"escape",void 0,a.key,void 0)?null:e.$emit("handleEscape",t.slug)}]}},[a("IconBase",{staticClass:"mr-3",attrs:{icon:t.type+"icon",size:"1.2rem"}}),e._v(" "+e._s(e.htmlDecode(t.title))+" ")],1)])})),0)])])],1)},d=[],u=a("c0ab"),p=a("0de6"),h={name:"SidebarItem",components:{Expand:u["a"],IconBase:p["a"]},props:{post:{type:Object,default:()=>{}},expanded:{type:Object,default:()=>{}},category:{type:Object,default:()=>{}},isGuided:{type:Boolean,default:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["touch","mobile"])),Object(r["b"])([]))},b=h,m=a("2877"),g=Object(m["a"])(b,c,d,!1,null,null,null),f=g.exports,y=a("5357"),x={name:"Sidebar",components:{SidebarItem:f,BtnBack:y["a"],Button:l["a"]},props:{post:{type:Object,default:()=>{}},location:{type:Object,default:()=>{}},category:{type:Object,default:()=>{}},isGuided:{type:Boolean,default:!1}},data(){return{sidebarOpen:!0}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(r["c"])(["touch","mobile","browser"])),Object(r["b"])(["guidedtour"])),{},{openTab(){return this.location.children.findIndex(e=>e.slug===this.post.slug)},guidedTourImage(){return this.guidedtour.image?{src:this.guidedtour.image.sizes.medium,alt:this.guidedtour.image.alt}:""},pager(){const e=this.location.children,t=e.length,a=e.map(({slug:e})=>e),i=this.$route.params.panorama_id,n=a.indexOf(i),s=n>0?a[n-1]:a[t-1],r=n<t-1?a[n+1]:a[0],o=0===n,l=n===t-1;return{prev:s,next:r,currentIndex:n,currentPanorama:i,tourGroupSlugs:a,isLast:l,isFirst:o}}}),watch:{sidebarOpen:{immediate:!0,handler(e){this.$store.commit("toggleSidebarState",e)}}},created(){this.mobile&&(this.sidebarOpen=!1)},methods:{handleFocus(e){o["bus"].$emit("panToHotSpot",e)},handleBlur(e){o["bus"].$emit("closeHotSpot",e)},handleEnter(e){this.$emit("hotSpotClick",e)},handleEscape(e){o["bus"].$emit("closeHotSpot",e)},handleClick(e){this.mobile&&this.$emit("hotSpotClick",e),this.mobile||"Safari"!==this.browser||this.handleFocus(e)}}},v=x,k=Object(m["a"])(v,i,n,!1,null,null,null);t["default"]=k.exports},c0ab:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{on:{enter:e.enter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave,leave:e.leave}},[a("div",{ref:"container",staticClass:"collapsible-container",style:e.style},[e._t("default")],2)])},n=[],s=(a("466d"),{props:{duration:{type:Number,default:.3,validator:e=>e>=0},delay:{type:Number,default:0,validator:e=>e>=0},easing:{type:String,default:"ease",validator:e=>{const t=["linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end","initial","inherit"];return!!t.includes(e)||(null!==e.match(/^cubic-bezier\([\d.]+(,\s?[\d.]+){3}\)$/)||null!==e.match(/^steps\(\d+,\s?(start|end)\)$/))}}},computed:{style(){return`{\n        height: 0;\n        overflow: hidden;\n        transition-property: height;\n        transition-duration: ${this.duration}s;\n        transition-delay: ${this.delay}s;\n        transition-timing-function: ${this.easing};\n      }`}},methods:{enter(){this.$refs.container.style.height="0",this.$refs.container.style.height=this.$refs.container.scrollHeight+"px"},afterEnter(){this.$refs.container.style.height=null},beforeLeave(){this.$refs.container.style.height=this.$refs.container.scrollHeight+"px"},leave(){this.$refs.container.scrollHeight;this.$refs.container.style.height="0"}}}),r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-78f68360.51c9ab10.js.map